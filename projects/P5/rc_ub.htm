<!DOCTYPE HTML>
<html lang="en-NL">
	<head>
		<title>Bunny's site</title>
		<meta property="og:title" content="The project page for replace colour and unblend on Bunny's Site">
		<meta property="og:image" content="https://adriaan1313.github.io/img/uwu_scaled.png">
		<meta name="DC.Title" content="The project page for replace colour and unblend on Bunny's Site">
		<meta name="DC.Creator" content="Bunnygamers">
		<meta name="DC.Subject" content="cats">
		<meta name="DC.Subject" content="bunnygamers">
		<meta name="DC.Subject" content="bunny">
		<meta name="DC.Subject" content="p5">
		<meta name="DC.Subject" content="js">
		<meta name="DC.Subject" content="p5.js">
		<meta name="DC.Subject" content="replace colour">
		<meta name="DC.Subject" content="remove backgound">
		<meta name="DC.Subject" content="unblend">
		<meta name="DC.Subject" content="javascript">
		<meta name="DC.Subject" content="maths">
		<meta name="DC.Description" content="Unblend is a P5 thing that replaces a given colour with transparency and replace colour does the same thing, but it replaces the colour with a different colour instead of transparency.">
		<meta name="DCTERMS.Created" content="2022-05-27">
		<meta name="DC.Identifier" content="https://adriaan1313.github.io/projects/P5/rc_ub.htm">
		<meta property="og:url" content="https://adriaan1313.github.io/projects/P5/rc_ub.htm">
		<link rel="cononical" href="https://adriaan1313.github.io/projects/P5/rc_ub.htm">
		<link id="stylesheet" href="/style.css" rel="stylesheet">
		<meta property="og:type" content="website">
		<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
		<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/">
		<meta name="DC.Creator" content="Bunnygamers">
		<meta name="DC.Type" content="Website">
		<meta name="DC.Format" content="text/html">
		<meta name="DC.Language" scheme="DCTERMS.ISO639-2" content="eng">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="194x194" href="/favicon-194x194.png">
		<link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#fdbc08">
		<meta name="msapplication-TileColor" content="#fdbc08">
		<meta name="theme-color" content="#fdbc08">
	</head>
	<body>
		<div id="menu">
	<ul>
		<li style="width: 4em;">
			<a href="/" style="width: 4em;" id="home" class="mL"><div style="width: 4em;">Home</div></a>
		</li>
		<li>
			<a href="https://github.com/adriaan1313/downloady-bois" class="mL"><div><span style="font-size: 11pt;line-height:9pt;">Downloady-bois</span></div></a>
			<ul>
				<li><a href="https://github.com/adriaan1313/downloady-bois#readme"><div>Please ignore the name</div></a></li>
				<li>
					<a href="https://github.com/v3dbot/publitas-lister" class="mL"><div>Publitas</div></a>
					<ul>
						<li><a href="/projects/publitas-lister"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/Omroep%20Zeeland" class="mL"><div>Omroep Zeeland</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/oze/getIframe.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/audiomicro" class="mL"><div>AudioMicro</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/audiomicro/get.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/epidemic" class="mL"><div>Epidemic Sound</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/epidemic/get.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/extrememusic" class="mL"><div>Extreme Music</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/extrememusic/get.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/nicknl" class="mL"><div>Nickelodeon Nederland &amp; België</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/nicknl/list.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/lalela" class="mL"><div>Lalela</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/lalela/get.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/Omroep%20West" class="mL"><div>Omroep West</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/Omroep%20West/get.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/Omroep%20Brabant" class="mL"><div>Omroep Brabant</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/Omroep%20Brabant/get.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/Omroep%20Fryslan" class="mL"><div>Omroep Friesland</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/Omroep%20Fryslan/get.html"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/downloady-bois/tree/main/RTVNH" class="mL"><div>RTVNH</div></a>
					<ul>
						<li><a href="/projects/downloady-bois/RTVNH"><div>Demo</div></a></li>
					</ul>
				</li>
			</ul>
		</li>
		<li>
			<a href="#"><div><span style="font-size: 11pt;line-height:9pt;">P5 Stuff</span></div></a>
			<ul>
				<li>
					<a href="/projects/P5/rc_ub.htm#unblend" class="mL"><div>unblend</div></a>
					<ul>
						<li><a href="/projects/processing?id=ffMk8HXEu"><div>Demo</div></a></li>
					</ul>
				</li>
				
				<li>
					<a href="/projects/P5/rc_ub.htm#rc" class="mL"><div>replace colour</div></a>
					<ul>
						<li><a href="/projects/processing?id=Ur4u0HM4p"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://editor.p5js.org/adriaan1313/sketches/wuOAPwAY_" class="mL"><div>squircle</div></a>
					<ul>
						<li><a href="/projects/processing?id=wuOAPwAY_"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://editor.p5js.org/adriaan1313/sketches/nyq8Ftqo3" class="mL"><div>sticker bomb</div></a>
					<ul>
						<li><a href="/projects/processing?id=nyq8Ftqo3"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://editor.p5js.org/adriaan1313/sketches/64I9ZVj11" class="mL"><div>The Coding Train fire effect modification</div></a>
					<ul>
						<li><a href="/projects/processing?id=64I9ZVj11"><div>Demo</div></a></li>
					</ul>
				</li>
			</ul>
		</li>
		<li>
			<a href="#"><div><span style="font-size: 11pt;line-height:9pt;">Other JS Stuff</span></div></a>
			<ul>
				<li><a href="/projects/translate.user.js"><div>Translate popup remover<span style="font-size: 10pt;line-height:9pt;"><br>You need a userscript plugin</span></div></a></li>
				<li><a href="/projects/c³"><div>C&sup3;</div></a></li>
				<li>
					<a href="https://github.com/adriaan1313/game-idk" class="mL"><div>game-idk</div></a>
					<ul>
						<li><a href="/projects/game-idk"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/DTMF-Library" class="mL"><div>DTMF</div></a>
					<ul>
						<li><a href="/projects/DTMF"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/SNGCSV" class="mL"><div>SNGCSV</div></a>
					<ul>
						<li><a href="/projects/SNGCSV"><div>Demo</div></a></li>
					</ul>
				</li>
				<li>
					<a href="https://github.com/adriaan1313/jwp-streaming-service" class="mL"><div>JWP &quot;streaming service&quot;</div></a>
					<ul>
						<li><a href="https://streaming-service.cyclic.app/"><div>Demo</div></a></li>
					</ul>
				</li>
			</ul>
		</li>
		<li>
			<a href="#"><div>More coding</div></a>
			<ul>
				<li><a href="http://imageandarchive.github.io/" class="mL"><div>IAA</div></a></li>
				<li><a href="https://github.com/Gamemode4Dev/GM4_Datapacks"><div>Gamemode 4</div></a></li>
			</ul>
		</li>
		<li>
			<a href="#"><div>Other Stuff</div></a>
			<ul>
				<li><a href="https://github.com/adriaan1313/GM4_resources_faithful" class="mL"><div>GM4 Faithful</div></a></li>
				<li>
					<a href="https://www.youtube.com/channel/UCcGALopqQX4YxuN1StrkPoA" class="mL"><div>Music</div></a>
					<ul>
						<li><a href="https://bunnyms.github.io/"><div>Listen on-line!</div></a></li>
						<li><a href="https://bunnyms.bandcamp.com/"><div>Gib moneys</div></a></li>
					</ul>
				</li>
				<li>
					<a class="mL"><div>School Stuff</div></a>
					<ul>
						<li><a href="https://www.youtube.com/watch/FQozB5xdokY"><div>𝕋𝕚𝕜𝕜𝕖𝕣𝕥𝕛𝕖 𝕄𝕖𝕥 𝕄𝕚𝕛𝕟 𝕍𝕣𝕚𝕖𝕟𝕕𝕖𝕟 (𝔾𝔸𝔸𝕋 𝔽𝕆𝕌𝕋!)</div></a></li>
						<li><a href="https://www.youtube.com/playlist?list=PLKcnTv5nzWmK7T8WpdIRVSoPUmV7s0Dmr"><div>Ls</div></a></li>
						<li><a href="https://youtu.be/8bmRjcwZbcY"><div>Niet te Filmen slapstick</div></a></li>
					</ul>
				</li>
			</ul>
		</li>
	</ul>
</div>
		<div id="container">
			<div id="header">
				<h1>
					Replace Colour &amp; Unblend
				</h1>
			</div>
			<div id="links">
				<p><a href="https://twitter.com/bunnygamersMC"><img src="https://simpleicons.org/icons/twitter.svg" height="20" width="20"></a> <a href="https://discordapp.com/users/220821856976896001"><img src="https://simpleicons.org/icons/discord.svg" height="20" width="20"></a> <a href="https://github.com/adriaan1313"><img src="https://simpleicons.org/icons/github.svg" height="20" width="20"></a> <a href="https://www.youtube.com/channel/UCx88h6TSBgCaxiPj5QU8FOQ"><img src="https://simpleicons.org/icons/youtube.svg" height="20" width="20"></a></p>
				<p><a href="https://editor.p5js.org/adriaan1313/sketches/ffMk8HXEu"><img src="https://simpleicons.org/icons/p5dotjs.svg" height="20" width="20"/>Source: Unblend</a></p>
				<p><a href="/projects/processing?id=ffMk8HXEu"><img src="https://simpleicons.org/icons/p5dotjs.svg" height="20" width="20"/>Demo: Unblend</a></p>
				<p><a href="https://editor.p5js.org/adriaan1313/sketches/Ur4u0HM4p"><img src="https://simpleicons.org/icons/p5dotjs.svg" height="20" width="20"/>Source: Replace Colour</a></p>
				<p><a href="/projects/processing?id=Ur4u0HM4p"><img src="https://simpleicons.org/icons/p5dotjs.svg" height="20" width="20"/>Demo: Replace Colour</a></p>
			</div>
			<div id="content">
				<h2>Unblend &amp; Replace Colour</h2>
					<div style="display: block; float: right;width: 20em; padding: 0px; margin:0px, 0px, 5pt, 0px; border-left:1pt solid black; border-top:1pt solid black;"><a href="/img/uwu.png"><img src="/img/uwu_scaled.png" style="width: 20em;" /></a><p>^ Earth, but instead of water being blue, it's purple/"orange"/red/green. Made with Replace Colour, source: NASA</p><a href="/img/unblend_in.png"><img src="/img/unblend_in.png" style="width: 20em;" /></a><a href="/img/unblend_out.png"><img src="/img/unblend_out.png" style="width: 20em;" /></a><p>^ Some colour light thing, but the black is replaced with transparency. Made with unblend, source: N/A. (top is input)</p></div> 
				<p>
					Unblend is a P5 thing that replaces a given colour with transparency, but not like a magic wand tool or a chroma key because it keeps on blending until there is no trace of the colour left.<br>
					Replace colour does the same thing, but it replaces the colour with a different colour instead of transparency. (brown is just dark orange ok, don't judge me)
				</p>
				<h2 id="unblend">Maths: Unblend</h2>
				<p>
					To unblend a pixel, it first calculates how far away the colour of the pixel is from the selected colour. To do this, it takes the maximum (on default settings, it is also the correct setting) of the absolute difference of the values for each of the colours.<br />
					<span class="code">dist = max(|pixel_red-selected_red|,|pixel_green-selected_blue|,|pixel_green-selected_blue|)</span><br />
					Now, to get the "original colour," it does some more maths to every channel:<br />
					<span class="code">output_red = (255*pixel_red+(-255+dist)*selected_red)/dist</span><br />
					<span class="code">output_green = (255*pixel_green+(-255+dist)*selected_green)/dist</span><br />
					<span class="code">output_blue = (255*pixel_blue+(-255+dist)*selected_blue)/dist</span><br />
					It then draws a pixel to the canvas with the colour and as alpha value the <i>dist</i> value and goes to the next pixel (until it's done).
				</p>
				<h2 id="rc">Maths: Replace Colour</h2>
				<p>
					Replace Colour works very similarly to unblend, so the distance is calculated in the same way, but here the value is renamed because there are two colour pickers.<br />
					<span class="code">dist = max(|pixel_red-from_red|,|pixel_green-from_green|,|pixel_blue-from_blue|)</span><br />
					If this distance is 0, it sets the output pixel to the second colour picker<br />
					Else, to get the new colour it does some more maths to every channel:<br />
					<span class="code">output_red = (255*pixel_red+(-255+dist)*from_red+to_red*(255-dist))/255</span><br />
					<span class="code">output_green = (255*pixel_green+(-255+dist)*from_green+to_green*(255-dist))/255</span><br />
					<span class="code">output_blue = (255*pixel_blue+(-255+dist)*from_blue+to_blue*(255-dist))/255</span><br />
					It then draws a pixel to the canvas with the colour, just copies the alpha from the original image and goes to the next pixel (until it's done).
				</p>
				
			</div>
		</div>
		
		<a id="dark" href="?dark">dark mode</a>
		<script src="/darkMode.js"></script>
	</body>
</html>
